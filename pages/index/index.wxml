<!--index.wxml-->
<view class="container">
  <view class="search-wrapper">
    <view class="input-wrapper">
      <image class="input-icon" src="../../images/search.png" mode="cover"></image>
      <input bindinput="bindNameInput" auto-focus placeholder="请输入关键词股票代码、公司名称" />
      <view class="search-btn" bindtap="search" wx:if="{{userInfo.phoneNumber}}">搜索</view>
      <button open-type="getPhoneNumber" bindgetphonenumber="getPhoneNumber" class="search-btn" wx:else>搜索</button>
    </view>
    <view class="hot-wrapper">
      <image class="hot-icon" src="../../images/hot.png"></image>
      <text class="name">热搜</text>
      <text
        class="label"
        wx:for="{{ hotList }}"
        wx:for-item="item"
        wx:key="item"
        bindtap="queryHot"
        data-label="{{ item }}"
      >{{ item }}</text>
    </view>
  </view>
  <view class="report-wrapper">
    <view class="tips">共有<text class="num">{{ total }}</text>条搜索结果</view>
    <view
      wx:for="{{ reportList }}"
      wx:for-item="report"
      wx:key="i"
      class="report-item"
      bindtap="selectReport"
      data-url="{{report.url}}"
      data-reportId="{{report.id}}"
      data-reportName="{{report.title}}"
      data-companyName="{{report.name}}"
      data-category="{{report.category}}"
    >
      <view class="title">{{ report.title }}</view>
      <view class="report-desc">
        <view class="left">
          <text>{{ report.institution }}</text>
          <text class="author">{{ report.author }}</text>
        </view>
        <view class="right">
          <text>{{ report.page }}页</text>
          <text>{{ report.name || report.category || '其他研报' }}</text>
          <text>{{ report.reportTime }}</text>
        </view>
      </view>
    </view>
    <view wx:if="{{loading && !noMore}}" class="loadmore loading">正在加载...</view>
    <view wx:elif="{{!loading && noMore}}" class="loadmore">没有更多内容了</view>
  </view>
</view>
